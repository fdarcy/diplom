# I Перечень автоматизируемых сценариев

## 1. Отправка формы. Проверяем в двух СУБД - MySQL и PostgreSQL.

Требования к содержимому полей:

- номер карты - состоит из 16 цифр
- месяц - в формате мм, значения от 01 до 12
- год - в формате гг, не раньше текущего года
- cvc/cvv код карты - состоит из 3 цифр
- имя и фамилия владельца карты - латиница через пробел, может содержать "-"

### 1) happy path (карта № 4444 4444 4444 4441)

а) Сервис платежей  
   При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
приходит сообщение об успешной покупке тура: "Успешно! Операция одобрена банком". В БД появляется статус - "APPROVED".

б) Кредитный сервис  
   При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
   приходит сообщение об успешной покупке тура: "Успешно! Операция одобрена банком". В БД появляется статус - "APPROVED".

### 2) Использование отклоненной карты (карта № 4444 4444 4444 4442)

а) Сервис платежей  
При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
приходит сообщение об ошибке. В БД появляется статус - "DECLINED".

б) Кредитный сервис  
При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
приходит сообщение об ошибке. В БД появляется статус - "DECLINED".

### 3) Использование "другой" карты

а) Сервис платежей  
При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
приходит сообщение об ошибке: "Ошибка! Банк отказал в проведении операции". В БД нет новых записей.

б) Кредитный сервис  
При вводе валидных данных (номер карты, срок действия - год и месяц, cvc/cvv код карты, имя и фамилия владельца карты)
приходит сообщение об ошибке: "Ошибка! Банк отказал в проведении операции". В БД нет новых записей.

## 2. Валидация полей перед отправкой. Проверяем дважды (Кредитный сервис и платежный сервис) 

### 1) Поле "номер карты" 

а) пустое поле  
б) ввести 16 нулей  
в) буквы  
г) спецсимволы  
д) ввести 17 цифровых значений  
е) ввести 15 цифровых значений  
ж) ввести 1 цифру  
з) ввести 2 цифры  

Ожидаемый результат - ошибка: "Неверный формат", форма не отправляется.

### 2) Поле "месяц"

а) пустое поле  
б) ввести "00"  
в) ввести "01"  
г) ввести "11"  
д) ввести "12"  
е) ввести буквы  
ж) спецсимволы

Ожидаемый результат - ошибка: "Неверный формат", форма не отправляется.

з) ввести "13" 

Ожидаемый результат - ошибка: "Неверно указан срок действия карты", форма не отправляется.

### 2) Поле "год"

а) пустое поле  
б) буквы  
в) спецсимволы  

Ожидаемый результат - ошибка: "Неверный формат", форма не отправляется.

г) ввести "00"  
д) ввести "23"  

Ожидаемый результат - ошибка: "Истёк срок действия карты", форма не отправляется.

### 3) Срок действия карты

а) месяц - 03, год - 24  
б) месяц - 01, год - 17

Ожидаемый результат - ошибка: "Неверно указан срок действия карты", форма не отправляется.

### 4) Поле "Владелец"

а) пустое поле  
б) 1 буква на латинице  
в) 2 буквы на латинице  
г) "пробел"

Ожидаемый результат - ошибка: "Поле обязательно для заполнения", форма не отправляется.

д) спецсимволы  
е) цифры  
ж) кириллица  
з) фамилия и имя на латинице без пробела (IvanovIvan)  
и) фамилия и имя на латинице через дефис (Ivanov-Ivan)  

Ожидаемый результат - ошибка: "Неверный формат", форма не отправляется.

### 5) Поле "CVC/CVV"

а) пустое поле  
б) 1 цифра  
в) 2 цифры  
г) 4 цифры  
д) буквы  
е) спецсимволы  
ж) "000"

Ожидаемый результат - ошибка: "Неверный формат", форма не отправляется.

# II Инструменты

Gradle - система автоматической сборки  
Selenide - интерфейс для взаимодействия с веб-элементами  
JUnut5 - фреймворк запуска тестов  
MySQL и PostgreSQL - СУБД  
DBeaver - клиентское приложение для работы с SQL  
Git (для управления репозиторием) и GitHub (для хранения репозитория)  
Docker - для формирования окружения (MySQL, PostgreSQL, эмулятор банковских сервисов)  
Библиотеки:  
Faker - для генерации тестовых данных  
Lombok - для экономии времени на написание кода, упрощение кода.

# III Риски

- Сложность в нахождении селекторов.
- Проблемы в банковских сервисах, в которые пересылаются данные.
- Проблемы во взаимодействии между веб-сервисом и банковскими сервисами.
- Риски, связанные с покрытием и обслуживанием тестов.

# IV Интервальная оценка

Планирование и написание автотестов с учетом указанных рисков займет от 30 до 40 часов.